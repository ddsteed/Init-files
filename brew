#!/usr/bin/env   zsh

runname=`basename $0`

case $runname in
    brew | abrew)
        eval $(/opt/Homebrew/bin/brew shellenv) #ckbrew

        abrew () {
            arch -arm64e /opt/homebrew/bin/brew $@
        } 
        ;;
    ibrew)
        eval $(/usr/local/Homebrew/bin/brew shellenv) #ckbrew

        ibrew () {
            arch -x86_64 /usr/local/bin/brew $@
        }
        ;;
esac

abi () {
    abrew install $1
}

abrewup () {
    abrew update && abrew upgrade && abrew cu -a -f -y && /opt/homebrew/bin/mas upgrade
}

abrewin () {
    arch -arm64e /bin/zsh -c "$(curl -fsSL https://gitee.com/cunkai/HomebrewCN/raw/master/Homebrew.sh)"
}

abrewun () {
  arch -arm64e /bin/zsh -c "$(curl -fsSL https://gitee.com/cunkai/HomebrewCN/raw/master/HomebrewUninstall.sh)"
}

abrewclean () {
  abrew ls --$1 | xargs brew remove -f --ignore-dependencies
}

ibi () {
    ibrew install $1
}

ibrewup () {
    ibrew update && ibrew upgrade && ibrew cu -a -f -y && arch -x86_64 /usr/local/bin/mas upgrade
}

brewin () {
  arch -x86_64 /bin/zsh -c "$(curl -fsSL https://gitee.com/cunkai/HomebrewCN/raw/master/Homebrew.sh)"
}

ibrewun () {
  arch -x86_64 /bin/zsh -c "$(curl -fsSL https://gitee.com/cunkai/HomebrewCN/raw/master/HomebrewUninstall.sh)"
}

ibrewclean () {
  ibrew ls --$1 | xargs brew remove -f --ignore-dependencies
}

brewup () {
    case $runname in
        brew | abrew)
            abrewup
            ;;
        ibrew)
            ibrewup
            ;;
    esac
}

brewclean () {
    brew ls --$1 | xargs brew remove -f --ignore-dependencies
}

#-------------------------------------------
export HOMEBREW_BOTTLE_DOMAIN=https://mirrors.tuna.tsinghua.edu.cn/homebrew-bottles/bottles #ckbrew
export HOMEBREW_NO_INSTALL_CLEANUP=1
export HOMEBREW_NO_ENV_HINTS=1

